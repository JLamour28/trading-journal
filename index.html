<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Trading Journal - Dashboard</title>
    <link rel="stylesheet" href="css/main.css" />
    <link rel="stylesheet" href="css/forms.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body>
    <!-- Header Navigation -->
    <header class="header">
      <nav class="navbar">
        <div class="nav-brand">
          <i class="fas fa-chart-line"></i>
          <span>TradeJournal</span>
        </div>
        <div class="nav-menu">
          <a href="index.html" class="nav-link active">
            <i class="fas fa-tachometer-alt"></i> Dashboard
          </a>
          <a href="pages/add-trade.html" class="nav-link">
            <i class="fas fa-plus-circle"></i> Add Trade
          </a>
          <a href="pages/trade-list.html" class="nav-link">
            <i class="fas fa-list"></i> Trades
          </a>
          <a href="pages/settings.html" class="nav-link">
            <i class="fas fa-cog"></i> Settings
          </a>
        </div>
        <button class="mobile-menu-toggle">
          <i class="fas fa-bars"></i>
        </button>
      </nav>
    </header>

    <!-- Main Content -->
    <main class="main-content">
      <div class="container">
        <!-- Page Header -->
        <div class="page-header">
          <h1>Trading Dashboard</h1>
          <p>Track your trading performance and analyze your results</p>
          <a href="pages/add-trade.html" class="btn btn-primary">
            <i class="fas fa-plus"></i> Add New Trade
          </a>
        </div>

        <!-- Key Metrics Section -->
        <section class="metrics-section">
          <div class="metrics-grid">
            <div class="metric-card">
              <div class="metric-header">
                <h3>Total P&L</h3>
                <i class="fas fa-dollar-sign"></i>
              </div>
              <div class="metric-value positive" id="totalPL">$0.00</div>
              <div class="metric-change" id="plChange">+0.00%</div>
            </div>

            <div class="metric-card">
              <div class="metric-header">
                <h3>Win Rate</h3>
                <i class="fas fa-percentage"></i>
              </div>
              <div class="metric-value" id="winRate">0%</div>
              <div class="metric-change" id="winRateChange">0 trades</div>
            </div>

            <div class="metric-card">
              <div class="metric-header">
                <h3>Profit Factor</h3>
                <i class="fas fa-chart-pie"></i>
              </div>
              <div class="metric-value" id="profitFactor">0.00</div>
              <div class="metric-change" id="profitFactorChange">Neutral</div>
            </div>

            <div class="metric-card">
              <div class="metric-header">
                <h3>Total Trades</h3>
                <i class="fas fa-exchange-alt"></i>
              </div>
              <div class="metric-value" id="totalTrades">0</div>
              <div class="metric-change" id="currentStreak">No streak</div>
            </div>
          </div>
        </section>

        <!-- Charts Section -->
        <section class="charts-section">
          <div class="charts-grid">
            <!-- Equity Curve Chart -->
            <div class="chart-card">
              <div class="chart-header">
                <h3>Equity Curve</h3>
                <div class="chart-controls">
                  <select id="equityTimeRange">
                    <option value="1M">1 Month</option>
                    <option value="3M">3 Months</option>
                    <option value="6M">6 Months</option>
                    <option value="1Y">1 Year</option>
                    <option value="ALL">All Time</option>
                  </select>
                </div>
              </div>
              <div class="chart-container">
                <canvas id="equityCurve"></canvas>
              </div>
            </div>

            <!-- P&L Distribution Chart -->
            <div class="chart-card">
              <div class="chart-header">
                <h3>Monthly P&L</h3>
                <div class="chart-controls">
                  <button
                    class="btn btn-sm"
                    onclick="toggleChartType('pnlChart')"
                  >
                    <i class="fas fa-chart-bar"></i>
                  </button>
                </div>
              </div>
              <div class="chart-container">
                <canvas id="pnlChart"></canvas>
              </div>
            </div>
          </div>
        </section>

        <!-- Performance Overview -->
        <section class="performance-section">
          <div class="performance-grid">
            <!-- Win Rate by Asset Type -->
            <div class="performance-card">
              <h3>Win Rate by Asset Type</h3>
              <div class="chart-container">
                <canvas id="assetWinRate"></canvas>
              </div>
            </div>

            <!-- Recent Trades -->
            <div class="performance-card">
              <h3>Recent Trades</h3>
              <div class="trades-list" id="recentTrades">
                <div class="no-trades">
                  <i class="fas fa-inbox"></i>
                  <p>No trades yet. Start by adding your first trade!</p>
                  <a href="pages/add-trade.html" class="btn btn-primary"
                    >Add Trade</a
                  >
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- Quick Stats -->
        <section class="quick-stats-section">
          <div class="quick-stats-grid">
            <div class="stat-item">
              <span class="stat-label">Average Win:</span>
              <span class="stat-value positive" id="avgWin">$0.00</span>
            </div>
            <div class="stat-item">
              <span class="stat-label">Average Loss:</span>
              <span class="stat-value negative" id="avgLoss">$0.00</span>
            </div>
            <div class="stat-item">
              <span class="stat-label">Largest Win:</span>
              <span class="stat-value positive" id="largestWin">$0.00</span>
            </div>
            <div class="stat-item">
              <span class="stat-label">Largest Loss:</span>
              <span class="stat-value negative" id="largestLoss">$0.00</span>
            </div>
            <div class="stat-item">
              <span class="stat-label">Average R:R:</span>
              <span class="stat-value" id="avgRR">0.00:1</span>
            </div>
            <div class="stat-item">
              <span class="stat-label">Max Drawdown:</span>
              <span class="stat-value negative" id="maxDrawdown">0.00%</span>
            </div>
          </div>
        </section>
      </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
      <div class="container">
        <p>&copy; 2024 TradeJournal. Track. Analyze. Improve.</p>
      </div>
    </footer>

    <!-- Scripts -->
    <script src="js/data-manager.js"></script>
    <script src="js/calculations.js"></script>
    <script src="js/charts.js"></script>
    <script src="js/main.js"></script>
  </body>
</html>
